!function(r){r.fn.textareaCount=function(a,n){function e(){return g.html(t()),"undefined"!=typeof n&&n.call(this,l()),!0}function t(){var r=h.val(),n=r.length;if(a.maxCharacterSize>0){n>=a.maxCharacterSize&&(r=r.substring(0,a.maxCharacterSize));var e=u(r),t=a.maxCharacterSize-e;if(c()||(t=a.maxCharacterSize),n>t){var l=this.scrollTop;h.val(r.substring(0,t)),this.scrollTop=l}g.removeClass(a.warningStyle),t-n<=a.warningNumber&&g.addClass(a.warningStyle),p=h.val().length+e,c()||(p=h.val().length),w=f(s(h.val())),x=m-p}else{var e=u(r);p=h.val().length+e,c()||(p=h.val().length),w=f(s(h.val()))}return i()}function i(){var r=a.displayFormat;return r=r.replace("#input",p),r=r.replace("#words",w),m>0&&(r=r.replace("#max",m),r=r.replace("#left",x)),r}function l(){var r={input:p,max:m,left:x,words:w};return r}function o(r){return r.next(".charleft")}function c(){var r=navigator.appVersion;return-1!=r.toLowerCase().indexOf("win")?!0:!1}function u(r){for(var a=0,n=0;n<r.length;n++)"\n"==r.charAt(n)&&a++;return a}function s(r){var a=r+" ",n=/^[^A-Za-z0-9]+/gi,e=a.replace(n,""),t=rExp=/[^A-Za-z0-9]+/gi,i=e.replace(t," "),l=i.split(" ");return l}function f(r){var a=r.length-1;return a}var v={maxCharacterSize:-1,originalStyle:"originalTextareaInfo",warningStyle:"warningTextareaInfo",warningNumber:20,displayFormat:"#input characters | #words words"},a=r.extend(v,a),h=r(this);r("<div class='charleft'>&nbsp;</div>").insertAfter(h);var d={width:h.width()},g=o(h);g.addClass(a.originalStyle),g.css(d);var p=0,m=a.maxCharacterSize,x=0,w=0;h.bind("keyup",function(){e()}).bind("mouseover",function(){setTimeout(function(){e()},10)}).bind("paste",function(){setTimeout(function(){e()},10)})}}(jQuery);